# Google Gemini API 힌트 생성 시스템 설정 가이드

## 1. Google Gemini API 키 발급

### 1.1 Google AI Studio 접속
1. [Google AI Studio](https://makersuite.google.com/app/apikey)에 접속
2. Google 계정으로 로그인

### 1.2 API 키 생성
1. "Create API Key" 버튼 클릭
2. API 키 이름 입력 (예: "Crossword Puzzle Hint Generator")
3. "Create API Key" 클릭
4. 생성된 API 키를 복사하여 안전한 곳에 보관

## 2. 환경 변수 설정

### 2.1 .env 파일에 API 키 추가
```bash
# .env 파일에 다음 라인 추가
GEMINI_API_KEY=your_gemini_api_key_here
```

### 2.2 설정 캐시 클리어
```bash
php artisan config:clear
php artisan cache:clear
```

## 3. 시스템 사용법

### 3.1 힌트 생성 관리 페이지 접속
- URL: `https://your-domain.com/puzzle/hint-generator`
- 또는 단어 관리 페이지에서 "AI 힌트 생성" 버튼 클릭

### 3.2 API 연결 테스트
1. 힌트 생성 관리 페이지에서 "API 연결 테스트" 버튼 클릭
2. 연결 성공 시 "API 연결 성공!" 메시지 표시

### 3.3 단일 단어 힌트 생성
1. 단어 목록에서 "힌트 생성" 버튼 클릭
2. AI가 자동으로 단어에 맞는 힌트 생성
3. 생성된 힌트는 자동으로 데이터베이스에 저장

### 3.4 일괄 힌트 생성
1. 여러 단어를 체크박스로 선택
2. "일괄 힌트 생성" 버튼 클릭
3. 생성 방식 선택:
   - **선택된 단어들**: 체크된 단어들만 힌트 생성
   - **카테고리별**: 특정 카테고리의 모든 단어에 힌트 생성
4. "기존 힌트 덮어쓰기" 옵션으로 기존 힌트 유지/삭제 선택
5. "힌트 생성 시작" 클릭

## 4. 힌트 생성 규칙

### 4.1 프롬프트 구성
시스템은 다음과 같은 정보를 바탕으로 힌트를 생성합니다:
- **단어**: 실제 퍼즐에 들어갈 단어
- **카테고리**: 단어의 분류 (예: 동물, 음식, 직업 등)
- **난이도**: 쉬움(1), 보통(2), 어려움(3)

### 4.2 난이도별 힌트 특성
- **쉬움**: 직관적이고 쉬운 설명
- **보통**: 약간의 사고가 필요한 설명
- **어려움**: 깊은 지식이나 추론이 필요한 설명

### 4.3 힌트 품질 기준
- 단어를 직접적으로 언급하지 않음
- 한국어로 작성
- 간결하고 명확한 설명
- 최대 200자로 제한

## 5. 시스템 기능

### 5.1 통계 정보
- 전체 단어 수
- 힌트 보유 단어 수
- 힌트 없는 단어 수
- 전체 힌트 수

### 5.2 필터링 기능
- 카테고리별 필터
- 힌트 유무별 필터
- 단어 검색

### 5.3 힌트 관리
- 기존 힌트 재생성
- Primary 힌트 설정
- 힌트 수정/삭제

## 6. API 제한사항

### 6.1 요청 제한
- 초당 최대 2회 요청 (1초 간격 조절)
- 요청당 최대 30초 타임아웃
- 응답 토큰 제한: 1024개

### 6.2 오류 처리
- API 연결 실패 시 자동 재시도 없음
- 오류 로그는 `storage/logs/laravel.log`에 기록
- 사용자에게 친화적인 오류 메시지 표시

## 7. 문제 해결

### 7.1 API 연결 실패
1. API 키가 올바르게 설정되었는지 확인
2. `.env` 파일의 `GEMINI_API_KEY` 값 확인
3. `php artisan config:clear` 실행
4. 인터넷 연결 상태 확인

### 7.2 힌트 생성 실패
1. API 연결 테스트 실행
2. 로그 파일 확인: `storage/logs/laravel.log`
3. 단어나 카테고리가 비어있지 않은지 확인

### 7.3 성능 최적화
- 대량의 단어 처리 시 일괄 생성 기능 사용
- API 호출 간격이 자동으로 조절됨
- 진행 상황을 실시간으로 표시

## 8. 보안 고려사항

### 8.1 API 키 보안
- API 키를 소스 코드에 직접 입력하지 않음
- `.env` 파일을 버전 관리에 포함하지 않음
- 프로덕션 환경에서 API 키 정기적 교체

### 8.2 접근 제어
- 인증된 사용자만 힌트 생성 기능 접근 가능
- CSRF 토큰으로 요청 보호
- 입력 데이터 검증 및 sanitization

## 9. 추가 개발 사항

### 9.1 향후 개선 방향
- 힌트 품질 평가 시스템
- 사용자 피드백 기반 힌트 개선
- 다국어 힌트 생성 지원
- 이미지/사운드 힌트 생성

### 9.2 모니터링
- API 사용량 모니터링
- 힌트 생성 성공률 추적
- 사용자 활동 로그 