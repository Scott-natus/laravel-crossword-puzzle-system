<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>카테고리 수집 및 힌트 처리 API 요약</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .api-card { margin-bottom: 20px; }
        .method-get { color: #28a745; }
        .method-post { color: #007bff; }
        .method-put { color: #ffc107; }
        .method-delete { color: #dc3545; }
        .status-active { color: #28a745; }
        .status-inactive { color: #6c757d; }
    </style>
</head>
<body>
<div class="container mt-4">
    <div class="text-center mb-4">
        <h1>📚 카테고리 수집 및 힌트 처리 API 요약</h1>
        <p class="lead">기존에 구현된 다양한 API들을 정리했습니다.</p>
    </div>
    
    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>🔧 힌트 생성 관리 (웹)</h5>
                </div>
                <div class="card-body">
                    <h6>라우트: <code>/puzzle/hint-generator/</code></h6>
                    <ul class="list-unstyled">
                        <li><span class="method-get">GET</span> <code>/</code> - 힌트 생성 관리 페이지</li>
                        <li><span class="method-get">GET</span> <code>/words-ajax</code> - 단어 목록 AJAX</li>
                        <li><span class="method-post">POST</span> <code>/word/{wordId}</code> - 단일 단어 힌트 생성</li>
                        <li><span class="method-get">GET</span> <code>/word/{wordId}/hints</code> - 단어 힌트 조회</li>
                        <li><span class="method-post">POST</span> <code>/batch</code> - 일괄 힌트 생성</li>
                        <li><span class="method-post">POST</span> <code>/category</code> - 카테고리별 힌트 생성</li>
                        <li><span class="method-get">GET</span> <code>/test-connection</code> - API 연결 테스트</li>
                        <li><span class="method-get">GET</span> <code>/stats</code> - 통계 조회</li>
                        <li><span class="method-post">POST</span> <code>/regenerate-hints</code> - 힌트 재생성</li>
                        <li><span class="method-get">GET</span> <code>/hints-for-correction</code> - 수정용 힌트 조회</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>📱 API 엔드포인트</h5>
                </div>
                <div class="card-body">
                    <h6>라우트: <code>/api/</code></h6>
                    <ul class="list-unstyled">
                        <li><span class="method-post">POST</span> <code>/puzzle/generate-hints</code> - 힌트 생성</li>
                        <li><span class="method-get">GET</span> <code>/puzzle/words</code> - 단어 목록</li>
                        <li><span class="method-get">GET</span> <code>/puzzle/crossword-words</code> - 크로스워드 단어</li>
                        <li><span class="method-get">GET</span> <code>/puzzle/template</code> - 퍼즐 템플릿</li>
                        <li><span class="method-post">POST</span> <code>/puzzle/submit-answer</code> - 정답 제출</li>
                        <li><span class="method-get">GET</span> <code>/puzzle/hints</code> - 힌트 조회</li>
                        <li><span class="method-get">GET</span> <code>/puzzle/show-answer</code> - 정답 보기</li>
                        <li><span class="method-post">POST</span> <code>/puzzle/complete-level</code> - 레벨 완료</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5>🤖 Gemini AI 서비스</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h6>주요 메서드:</h6>
                            <ul>
                                <li><code>generateHint()</code> - 단일 단어 힌트 생성</li>
                                <li><code>generateCategoryAndHints()</code> - 카테고리+힌트 동시 생성</li>
                                <li><code>extractWordsFromText()</code> - 텍스트에서 단어 추출</li>
                                <li><code>analyzeWords()</code> - 단어 분석</li>
                                <li><code>generateHintsForWords()</code> - 다중 단어 힌트 생성</li>
                                <li><code>testConnection()</code> - API 연결 테스트</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>특징:</h6>
                            <ul>
                                <li>✅ 3단계 난이도 힌트 생성</li>
                                <li>✅ 카테고리 자동 분류</li>
                                <li>✅ 한글/영어 지원</li>
                                <li>✅ 사용빈도 정보 제공</li>
                                <li>✅ 일괄 처리 지원</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>📊 데이터베이스 테이블</h5>
                </div>
                <div class="card-body">
                    <h6>핵심 테이블:</h6>
                    <ul>
                        <li><code>pz_words</code> - 단어 정보</li>
                        <li><code>pz_hints</code> - 힌트 정보</li>
                        <li><code>puzzle_levels</code> - 퍼즐 레벨</li>
                        <li><code>puzzle_grid_templates</code> - 그리드 템플릿</li>
                        <li><code>temp_collected_words</code> - 임시 수집 단어</li>
                    </ul>
                    
                    <h6>관리 테이블:</h6>
                    <ul>
                        <li><code>puzzle_sessions</code> - 게임 세션</li>
                        <li><code>puzzle_user_progress</code> - 사용자 진행도</li>
                        <li><code>puzzle_hint_limits</code> - 힌트 제한</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h5>⚙️ Artisan 명령어</h5>
                </div>
                <div class="card-body">
                    <h6>스케줄러 명령어:</h6>
                    <ul>
                        <li><code>puzzle:generate-hints-scheduler</code> - 자동 힌트 생성</li>
                        <li><code>puzzle:generate-hints-from-temp-words</code> - 임시 단어에서 힌트 생성</li>
                        <li><code>puzzle:update-word-difficulty</code> - 단어 난이도 업데이트</li>
                    </ul>
                    
                    <h6>수동 명령어:</h6>
                    <ul>
                        <li><code>puzzle:generate-hints --limit=50</code> - 제한된 개수로 힌트 생성</li>
                        <li><code>puzzle:generate-hints --word=단어</code> - 특정 단어 힌트 생성</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5>🔄 처리 흐름</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <h6>1. 단어 수집</h6>
                            <ol>
                                <li>텍스트에서 단어 추출</li>
                                <li>임시 테이블에 저장</li>
                                <li>중복 제거 및 필터링</li>
                            </ol>
                        </div>
                        <div class="col-md-4">
                            <h6>2. 카테고리 분류</h6>
                            <ol>
                                <li>Gemini API로 카테고리 생성</li>
                                <li>적절한 분야로 분류</li>
                                <li>중복 카테고리 체크</li>
                            </ol>
                        </div>
                        <div class="col-md-4">
                            <h6>3. 힌트 생성</h6>
                            <ol>
                                <li>3단계 난이도 힌트 생성</li>
                                <li>품사 및 사용빈도 분석</li>
                                <li>데이터베이스에 저장</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5>📈 통계 정보</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="text-center">
                                <h4 class="status-active">총 단어 수</h4>
                                <p class="h2">-</p>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="text-center">
                                <h4 class="status-active">힌트 보유 단어</h4>
                                <p class="h2">-</p>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="text-center">
                                <h4 class="status-inactive">힌트 미보유 단어</h4>
                                <p class="h2">-</p>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="text-center">
                                <h4 class="status-active">총 힌트 수</h4>
                                <p class="h2">-</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-4">
        <div class="col-12">
            <div class="alert alert-info">
                <h6>🔗 관련 링크:</h6>
                <div class="row">
                    <div class="col-md-4">
                        <a href="/puzzle/hint-generator" class="btn btn-outline-primary w-100 mb-2">
                            🛠️ 힌트 생성 관리
                        </a>
                    </div>
                    <div class="col-md-4">
                        <a href="/puzzle/words" class="btn btn-outline-success w-100 mb-2">
                            📚 단어 관리
                        </a>
                    </div>
                    <div class="col-md-4">
                        <a href="/puzzle/levels" class="btn btn-outline-warning w-100 mb-2">
                            🎮 레벨 관리
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
    // 통계 정보 로드 (실제로는 API 호출)
    console.log('카테고리 수집 및 힌트 처리 API 요약 페이지가 로드되었습니다.');
    console.log('사용 가능한 API들:');
    console.log('- 힌트 생성: POST /api/puzzle/generate-hints');
    console.log('- 단어 목록: GET /api/puzzle/words');
    console.log('- 퍼즐 템플릿: GET /api/puzzle/template');
    console.log('- 힌트 조회: GET /api/puzzle/hints');
});
</script>
</body>
</html> 