# 크로스워드 퍼즐 템플릿 패턴 분석

## 1. 기본 구조 분석

### 1.1 그리드 크기별 분포
- **5x5 그리드**: 레벨 1, 2 템플릿 (대부분)
- **6x6 그리드**: 레벨 5 템플릿
- **7x7 그리드**: 레벨 11 템플릿

### 1.2 단어 개수별 분포
- **5x5 그리드**: 5개 단어 (가로 2-3개, 세로 2-3개)
- **6x6 그리드**: 6개 단어 (가로 3-4개, 세로 2-3개)
- **7x7 그리드**: 9개 단어 (가로 4개, 세로 5개)

## 2. 공통 규칙 분석

### 2.1 검은칸(2) 배치 규칙
1. **대칭성**: 대부분의 템플릿이 좌우 대칭 또는 상하 대칭 구조
2. **연결성**: 검은칸들이 서로 연결되어 영역을 형성
3. **비율**: 전체 그리드에서 검은칸 비율은 약 30-40%
4. **경계**: 가장자리에 검은칸이 배치되어 단어를 구분

### 2.2 단어 배치 규칙
1. **교차점**: 가로-세로 단어만 교차, 같은 방향 단어는 교차하지 않음
2. **분리**: 독립적인 단어들은 서로 인접하지 않음 (검은칸으로 분리)
3. **길이**: 한 글자 단어는 없음 (최소 2글자 이상)
4. **균형**: 가로/세로 단어 수가 균형있게 배치

### 2.3 단어 길이 분포
- **5x5 그리드**: 2-4글자 단어 (평균 3글자)
- **6x6 그리드**: 2-4글자 단어 (평균 3글자)
- **7x7 그리드**: 2-4글자 단어 (평균 3글자)

## 3. 패턴 유형 분석

### 3.1 5x5 그리드 패턴 유형

#### A. 십자형 패턴 (레벨 1 템플릿 #19)
```
[2,1,1,1,1]  # 상단 가로 단어
[2,2,2,2,1]  # 중앙 가로 단어 (긴 단어)
[2,1,1,2,1]  # 세로 단어들
[1,1,1,1,2]  # 하단 가로 단어
[2,2,2,1,2]  # 하단 가로 단어
```
- **특징**: 중앙에 긴 가로 단어, 세로 단어들이 교차
- **단어 구성**: 가로 2개, 세로 3개

#### B. L자형 패턴 (레벨 1 템플릿 #8)
```
[2,2,2,1,1]  # 상단 가로 단어
[1,1,2,1,1]  # 세로 단어들
[1,2,1,1,2]  # 중앙 세로 단어
[1,2,2,1,2]  # 하단 가로 단어
[1,1,1,1,2]  # 하단 가로 단어
```
- **특징**: L자 모양의 검은칸 배치
- **단어 구성**: 가로 2개, 세로 3개

#### C. 그물형 패턴 (레벨 2 템플릿 #4)
```
[2,2,2,1,1]  # 상단 가로 단어
[1,1,2,1,1]  # 세로 단어들
[2,1,2,2,1]  # 중앙 가로 단어
[2,1,1,1,1]  # 하단 가로 단어
[2,2,2,2,1]  # 하단 가로 단어
```
- **특징**: 그물처럼 얽힌 검은칸 배치
- **단어 구성**: 가로 3개, 세로 2개

### 3.2 6x6 그리드 패턴 유형

#### A. 대칭형 패턴 (레벨 5 템플릿 #1)
```
[1,2,2,2,2,1]  # 상단 가로 단어
[1,1,1,1,2,1]  # 세로 단어들
[1,1,1,2,2,2]  # 중앙 가로 단어
[2,2,2,1,1,1]  # 중앙 가로 단어
[1,1,1,2,2,1]  # 하단 가로 단어
[2,2,1,1,1,1]  # 하단 가로 단어
```
- **특징**: 좌우 대칭 구조
- **단어 구성**: 가로 4개, 세로 2개

### 3.3 7x7 그리드 패턴 유형

#### A. 복합형 패턴 (레벨 11 템플릿 #1)
```
[2,2,2,1,1,1,2]  # 상단 가로 단어
[1,1,2,1,2,1,2]  # 세로 단어들
[2,1,2,2,2,1,2]  # 중앙 가로 단어
[2,1,2,1,2,1,1]  # 중앙 가로 단어
[2,1,1,1,2,1,2]  # 하단 가로 단어
[2,1,2,2,1,1,2]  # 하단 가로 단어
[1,1,1,1,2,2,1]  # 하단 가로 단어
```
- **특징**: 복잡한 교차 구조
- **단어 구성**: 가로 4개, 세로 5개

## 4. 자동 생성 규칙

### 4.1 기본 제약 조건
1. **검은칸 연결성**: 검은칸들은 서로 연결되어야 함
2. **단어 분리**: 독립적인 단어들은 검은칸으로 분리
3. **교차점 유효성**: 가로-세로 단어만 교차 가능
4. **길이 제한**: 최소 2글자, 최대 그리드 크기-1

### 4.2 패턴 생성 알고리즘
1. **기본 프레임 생성**: 가장자리와 중앙 구조 설정
2. **검은칸 배치**: 패턴 유형에 따른 검은칸 배치
3. **단어 위치 계산**: 흰칸 영역에서 단어 위치 추출
4. **교차점 검증**: 유효한 교차점만 허용
5. **균형 조정**: 가로/세로 단어 수 균형 조정

### 4.3 패턴 유형별 생성 규칙

#### 십자형 패턴
- 중앙에 긴 가로 단어 배치
- 세로 단어들이 중앙 단어와 교차
- 상하단에 짧은 가로 단어 배치

#### L자형 패턴
- 모서리에 L자 모양 검은칸 배치
- 가로/세로 단어가 균형있게 배치
- 교차점을 통한 연결성 확보

#### 그물형 패턴
- 복잡한 검은칸 네트워크 구성
- 여러 교차점을 통한 단어 연결
- 다양한 길이의 단어 조합

## 5. 구현 방향

### 5.1 패턴 기반 생성 함수
```python
def generate_grid_by_pattern(pattern_type, grid_size, word_count):
    """
    패턴 유형에 따른 그리드 자동 생성
    
    Args:
        pattern_type: 'cross', 'l_shape', 'mesh', 'symmetric'
        grid_size: 5, 6, 7 등
        word_count: 원하는 단어 개수
    
    Returns:
        grid_pattern: 2차원 배열
        word_positions: 단어 위치 정보
    """
```

### 5.2 패턴 유형별 템플릿
- **cross**: 십자형 패턴 (레벨 1 템플릿 #19)
- **l_shape**: L자형 패턴 (레벨 1 템플릿 #8)
- **mesh**: 그물형 패턴 (레벨 2 템플릿 #4)
- **symmetric**: 대칭형 패턴 (레벨 5 템플릿 #1)

### 5.3 검증 규칙
1. **연결성 검증**: 모든 흰칸이 연결되어 있는지 확인
2. **교차점 검증**: 유효한 교차점만 존재하는지 확인
3. **길이 검증**: 모든 단어가 2글자 이상인지 확인
4. **균형 검증**: 가로/세로 단어 수가 적절한지 확인 